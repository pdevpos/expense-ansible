 [localhost]
 localhost

 [web]
 172.31.17.151

 [all:children]
 web
 localhost

 * ansible  -i inventory.ini localhost  --list-hosts

 Install nginx and execute this nginx in ansible-playbook:
 =========================================================
 -	name: install and run nginx
 hosts: web
 become: yes # getting root access
 tasks:
 -	name: Install nginx
 ansible.builtin.dnf:
      name: nginx
      state: installed



 what is adhoc command?
     It is ansible command line to run modules against nodes,instead of playbooks. Some urgency purposes.
 •	Variables
 •	Datatypes
 •	Functions
 •	Loops
 •	Conditions
 Playbook: it is a yaml file which contains a list of modules or collections.
 Playbook contains multiple plays.
 -	Name: PLAY-1
 Hosts: localhost
 Tasks:
 -	Name: PLAY-1 and TASK-1
 Ansible.builtin.debug:
    msg: “Hello I am from PLAY-1 and TASK-1

 -	Name: PLAY-2
 Hosts: localhost
 Tasks:
 -	Name: PLAY-2 and TASK-1
 Ansible.builtin.debug:
    msg: “Hello I am from PLAY-1 and TASK-1

 variables:
 -	Name: variables
 Hosts: localhost
 Vars: #variable declaration
     Course: “Ansible”
     Trainer: “Sivakumar”
      Duration: “120hrs”
 Tasks:
 -	Name:  print information
 Ansible.builtin.debug:
     Msg: “Hi, we are learning {{course}} from Trainer {{Trainer}} ,Duration is {{Duration}}.”
 The above variable declaration is playlevel

 -	Variables as args
 -	Variables from user prompt

 Task Level:
 Inheritance and overriding:
 -	Name: variables
 Hosts: localhost
 Vars: #variable declaration
     Course: “Terraform”
     Trainer: “Siva”
      Duration:”15hrs”
 Tasks:
 -	Name: print information
 Vars: # Task level variables
    Course: “DevOps”
 ansible.builtin.debug:
      Msg: “Hi, we are learning {{course}} from trainer {{Trainer}} and Duration is {{Duration}}

 -	Name: print information
 ansible.builtin.debug:
      Msg: “Hi, we are learning {{course}} from trainer {{Trainer}} and Duration is {{Duration}}


 In the above code, in tasks level course must be override as DevOps instead of Terraform
 In second tasks, second tasks level will not override it displays as play level variables.
  If there are multiple variables at play level, (more than 30 variables) then we should not able to write those many variables in play level,we can maintain one file
 Vars.yml
 Course: “DevOps with AWS”
 Trainer:”Siva Kumar Reddy M”
 Duration:”3.5 months”

 06-vars-files.yml:
 -	Name: variables from files
 Hosts: localhost
 Vars_files:
 -  Vars.yml
 Tasks:
 -	Name: print override information
 Ansible.builtin.debug:
      Msg:  “Hi , We are learning Course {{Course}} from trainer {{Trainer}} and Duration {{Duration}}.”



 07-vars-prompt.yaml:
 -	name: variables from files
 hosts: localhost
 vars_prompt:
 -	name: USERNAME
 prompt: please enter your username
 private: false
 -	name: PASSWORD
 prompt: please enter your password
 private: true

 tasks:
 -	name: print override information
 Ansible.builtin.debug:
      msg:  “Hi, username: {{USERNAME}} , Password:{{PASSWORD}}.”


 08-vars-inventory.yaml:
 Inventory.ini

 [localhost]
 Localhost

 [localhost:vars]
 Course=”DevOps with AWS”
 Trainer=”Sivakumar”
 Duration=”120hrs”

 08-vars-inventory.yaml:
 -	name: variables from inventory
 hosts: localhost
 tasks:
 -	name: print information
 ansible.builtin.debug:
     msg: “Hi we are learning {{course}} from Trainer {{Trainer}} , Duration is {{Duration}} and Timings is {{Timings}}
 to run command:
 ansible-playbook -i  inventory.ini -e ansible_user=ec2-user -e ansible_password=DevOps321 08-vars-
 inventory.yaml

 in the above code timings was not declared in an inventory.ini so we will get an erro like “Timings variables is undefined”

 -	name: variables from files
 hosts: localhost
 tasks:
 vars:
     Timings: “2:50AM”
 -	name: print information
 ansible.builtin.debug:
     msg: “Hi we are learning {{Course}} from Trainer {{Trainer }}, Duration is {{ Duration }} and Timings are: {{Timings}}



 10-vars-extra-arguments:
 -	name: variables from arguments
 hosts: localhost
 tasks:
 -	name: get from args
 ansible.builtin.debug:
     msg: “Hello {{PERSON}} , Good {{WiSHES}}”

 run command:
 ansible-playbook -I inventory.ini -e ansible_user=ec2-user -e ansible_password=DevOps321 -e PERSON=siva WISHES=Good Morning


 11-vars-preferences:
 -	name: variable preference
 hosts: localhost
 vars:
     WISHES: “Morning from PLAY variable
 Vars_files:
 -	  vars.yaml
  vars_prompt:
 -	 name: WISHES
  prompt: Please enter Wishes
  private: false
                               tasks:
 -	Name: check preference
       Vars:
            WISHES: “Morning from TASK variable”
 Ansible.builtin.debug:
      Msg: “Hello , Good {{WISHES}}”


 Order priority:
 1.arguments
 2.Task level
 3.variable files
 4.prompt
 5.play level
 6.inventory



 DataTypes:
 Int,float,doube,Boolean,array list,map
 In scripting:
 -	name: data types
 hosts: localhost
 vars:
     Course: DevOps with AWS #String
                                      Tools: # list
 -	Linux
 -	Shell
 -	Ansible
 Experience: #map or dictionary
     DevOps: 3 #number
     AWS: 2
     Docker: 1
 RealProject: true #boolean


